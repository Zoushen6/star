(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb535a4a"],{"05ce":function(t,e,a){var n=a("6809").PROPER,i=a("2c48"),r=a("cb1f"),s="​᠎";t.exports=function(t){return i((function(){return!!r[t]()||s[t]()!==s||n&&r[t].name!==t}))}},"0ea4":function(t,e,a){},"238d":function(t,e,a){"use strict";a.r(e);var n,i,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"h-100 data-base"},[a("div",{staticClass:"position-relative data-content",style:{transform:"scale("+t.scaleRate+")",marginBottom:"-"+t.marginBottom+"px"}},[a("el-button",{staticClass:"exit-button position-absolute",attrs:{icon:"el-icon-switch-button"},on:{click:t.exit}},[t._v("退出大屏")]),a("div",{staticClass:"left-top position-absolute"},[a("div",{staticClass:"bg-title"},[t._v("订单累计消耗（元）")]),a("count-to",{staticClass:"count-to",attrs:{"end-val":t.costSum,separator:"",duration:3e3},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.displayValue;return[a("customized-count-to",{attrs:{value:e}})]}}])})],1),a("div",{staticClass:"left-middle bg-common position-absolute"},[a("div",{staticClass:"bg-title"},[t._v("昨日视频消耗排行榜")]),a("cost-rank",{staticClass:"cost-rank",attrs:{"inherit-loading":t.costLoading,data:t.orderRank}})],1),a("div",{staticClass:"left-bottom bg-common position-absolute"},[a("div",{staticClass:"bg-title"},[t._v("团队消耗趋势图")]),a("cost-trend",{staticClass:"chart-wrapper"})],1),a("time-clock",{staticClass:"time-clock position-absolute"}),a("div",{staticClass:"top position-absolute"},[a("order-status",{attrs:{data:t.orderSummary}})],1),a("div",{staticClass:"middle-middle position-absolute"},[a("div",{staticClass:"bg-title"},[t._v("项目消耗对比")]),a("project-cost",{staticClass:"chart-wrapper"})],1),a("div",{staticClass:"middle-bottom position-absolute"},[a("div",{staticClass:"bg-title"},[t._v("账户趋势/图表趋势")]),a("account-trend",{staticClass:"chart-wrapper"})],1),a("div",{staticClass:"right-middle bg-common position-absolute"},[a("div",{staticClass:"bg-title"},[t._v("本周项目完成进度")]),a("project-progress",{attrs:{data:t.orderSummary}})],1),a("div",{staticClass:"right-bottom bg-common position-absolute"},[a("div",{staticClass:"bg-title"},[t._v("制作中的订单")]),a("making-order",{staticClass:"making-order"})],1)],1)])},s=[],o=(a("3c42"),a("c183"),a("f8c2"),a("bd3e")),l=a.n(o),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._t("default",(function(){return[t._v(" "+t._s(t.displayValue)+" ")]}),{displayValue:t.displayValue})],2)},u=[],d=(a("22f7"),a("fd22"),a("d64c"),a("2657"),a("98ff"),a("3714"),0),h="webkit moz ms o".split(" "),m="undefined"===typeof window;if(m)n=function(){},i=function(){};else{var f;n=window.requestAnimationFrame,i=window.cancelAnimationFrame;for(var p=0;p<h.length;p++){if(n&&i)break;f=h[p],n=n||window[f+"RequestAnimationFrame"],i=i||window[f+"CancelAnimationFrame"]||window[f+"CancelRequestAnimationFrame"]}n&&i||(n=function(t){var e=(new Date).getTime(),a=Math.max(0,16-(e-d)),n=window.setTimeout((function(){t(e+a)}),a);return d=e+a,n},i=function(t){window.clearTimeout(t)})}var g={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,a,n){return a*(1-Math.pow(2,-10*t/n))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=n(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){i(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,n(this.count)},reset:function(){this.startTime=null,i(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.endVal-this.localStartVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=n(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals),t+="";var e=t.split("."),a=e[0],n=e.length>1?this.decimal+e[1]:"",i=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))while(i.test(a))a=a.replace(i,"$1"+this.separator+"$2");return a+n}},destroyed:function(){i(this.rAF)}},b=g,v=a("cba8"),y=Object(v["a"])(b,c,u,!1,null,null,null),x=y.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v(t._s(t.clockVal))])},k=[],w={name:"TimeClock",data:function(){return{clockVal:"",timerId:0}},mounted:function(){this.handleTimeChange(),this.timerId=setInterval(this.handleTimeChange,1e4)},destroyed:function(){clearTimeout(this.timerId)},methods:{handleTimeChange:function(){this.clockVal=this.$common.formatDate((new Date).getTime()/1e3,"yyyy年MM月dd日 hh:mm")}}},S=w,C=Object(v["a"])(S,_,k,!1,null,"546b3dd2",null),D=C.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"unit-container"},[t._l(t.unitList,(function(e,n){return[n>0&&n%3===0?a("span",{staticClass:"empty"}):t._e(),a("span",{staticClass:"unit"},[t._v(t._s(e))])]}))],2),a("div",[t._l(t.displayValue,(function(e,n){return[n>0&&n%3===0?a("span",{staticClass:"separator"},[t._v(",")]):t._e(),a("span",{staticClass:"num"},[t._v(t._s(e))])]}))],2)])},E=[],T=(a("47e8"),{name:"CustomizedCountTo",props:{value:{type:String,require:!0}},computed:{displayValue:function(){var t=this.value.trim(),e="0000000000"+t;return e.substr(e.length-9).split("")}},data:function(){return{unitList:["亿","千万","百万","十万","万","千"," "," "," "]}}}),O=T,A=(a("4859"),Object(v["a"])(O,F,E,!1,null,"28fe0086",null)),V=A.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",t._l(t.allProgress,(function(e){return a("el-col",{key:e.key,staticClass:"progress-item",attrs:{span:8}},[a("el-progress",{attrs:{type:"circle",percentage:e.num,color:e.color,"stroke-width":20,width:144}}),a("div",{staticClass:"progress-desc"},[t._v(t._s(e.desc))])],1)})),1)},z=[],I=a("d696"),$=(a("4bce"),a("c08f"),a("09ed"),[{color:"#FFA34B",desc:"编导完成进度",num:0,key:"choreographer"},{color:"#1E9DFF",desc:"实拍剪辑完成进度",num:0,key:"shoot"},{color:"#FF7775",desc:"纯剪混剪完成进度",num:0,key:"edit"}]),j={name:"ProjectProgress",props:{data:{type:Object,default:function(){return $.reduce((function(t,e){return Object.assign(t,Object(I["a"])({},e.key,0))}),{})}}},watch:{data:function(t){this.handleData(t)}},data:function(){return{allProgress:null}},created:function(){this.allProgress=$},methods:{handleData:function(t){this.allProgress.forEach((function(e){e.num=t[e.key]}))}}},L=j,M=(a("a913"),Object(v["a"])(L,N,z,!1,null,"64c97438",null)),R=M.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("customized-table",{staticClass:"dark-table",attrs:{showPagination:!1,loading:t.inheritLoading,Data:t.tableData,Header:t.header,total:t.total,"page-size":t.pageSize,"current-page":t.currentPage,"table-height":"320px"},scopedSlots:t._u([{key:"rank",fn:function(e){var n=e.row;return[t.showRankIcon(n.rank)?a("svg-icon",{attrs:{"icon-name":t.rankIcons[n.rank]}}):t._e(),a("span",{class:t.showRankIcon(n.rank)?"offset":""},[t._v(t._s(n.rank))])]}},{key:"title",fn:function(e){var n=e.row;return[a("el-popover",{attrs:{placement:"top-start",width:"120",trigger:"hover","popper-class":"cost-rank-detail",content:n.title}},[a("el-link",{attrs:{slot:"reference"},on:{click:function(e){return t.redirectTo(n)}},slot:"reference"},[a("span",{staticClass:"ell-1"},[t._v(t._s(n.title))])])],1)]}},{key:"group_name",fn:function(e){var n=e.row;return[a("el-popover",{attrs:{placement:"top-start",width:"120",trigger:"hover","popper-class":"cost-rank-detail",content:n.group_name}},[a("span",{staticClass:"ell-1 pointer",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(n.group_name))])])]}}])})},q=[],B=(a("1ae6"),a("4bbd")),G=[{prop:"rank",label:"排名",align:"center",showSlot:!0,slotName:"rank"},{prop:"title",label:"视频名称",align:"center",width:"200",showSlot:!0,slotName:"title"},{prop:"group_name",label:"团队",align:"center",width:"150",showSlot:!0,slotName:"group_name"},{prop:"cost",label:"昨日消耗",align:"center"}],H={1:"champion",2:"second",3:"third"},W={name:"CostRank",mixins:[B["a"]],created:function(){this.header=G},props:{data:Array,inheritLoading:{type:Boolean,default:!1}},watch:{data:function(t){this.tableData=t.map((function(t,e){return Object.assign(t,{rank:e+1})}))}},computed:{rankIcons:function(){return H}},methods:{showRankIcon:function(t){return t<=3},redirectTo:function(t){var e={advertiser_id:t.advertiser_id,channel:t.channel};1===Number(t.channel)?e.material_id=t.material_id:e.photo_id=t.photo_id,this.$router.push({name:"rank",params:e})}}},Y=W,X=(a("5bba"),Object(v["a"])(Y,P,q,!1,null,"55df9eb8",null)),J=X.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("customized-table",{ref:"table",staticClass:"dark-table",attrs:{showPagination:!1,Data:t.tableData,Header:t.header,total:t.total,"page-size":t.pageSize,"current-page":t.currentPage,loading:t.loading,"table-height":"320px"},nativeOn:{mouseenter:function(e){return t.endSwipe.apply(null,arguments)},mouseleave:function(e){return t.checkSwipe.apply(null,arguments)}},scopedSlots:t._u([{key:"order_name",fn:function(e){var n=e.row;return[a("span",{staticClass:"ell-1",attrs:{title:n.order_name}},[t._v(t._s(n.order_name))])]}}])})},Q=[],U=[{prop:"order_name",label:"订单名称",align:"center",width:"200",showSlot:!0,slotName:"order_name"},{prop:"operation_name",label:"提单人",align:"center"},{prop:"order_type",label:"下单类型",align:"center"}],Z=10,tt=29,et=5e3,at={name:"MakingOrder",mixins:[B["a"]],created:function(){this.header=U},mounted:function(){this.getData()},destroyed:function(){this.endSwipe()},data:function(){return{timerId:0,translateY:0,loading:!1}},methods:{swipeHandler:function(){var t=Math.ceil(this.tableData.length/Z),e=Z*tt;this.translateY=(this.translateY+e)%(t*e);var a=this.$refs.table.$refs.customizedTable.$refs.bodyWrapper.firstElementChild;a.setAttribute("style","transform:translate3d(0,-".concat(this.translateY,"px,0);transition:transform 500ms;")),this.translateY||(this.endSwipe(),this.getData())},startSwipe:function(){this.timerId=setInterval(this.swipeHandler,et)},checkSwipe:function(){this.timerId||this.loading||this.startSwipe()},endSwipe:function(){this.timerId&&(clearInterval(this.timerId),this.timerId=0)},getData:function(){var t=this;this.loading=!0,this.$http.get("/report/screen/order-list").then((function(e){200===e.data.code&&(t.tableData=e.data.data.list,t.endSwipe(),t.startSwipe())}))["finally"]((function(){t.loading=!1}))}}},nt=at,it=(a("3a05"),Object(v["a"])(nt,K,Q,!1,null,"288711b4",null)),rt=it.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"h-100",attrs:{gutter:3}},t._l(t.allStatus,(function(e,n){return a("el-col",{key:n,staticClass:"order-item h-100",attrs:{span:24/t.allStatus.length}},[a("svg-icon",{attrs:{"icon-name":e.icon}}),a("div",{staticClass:"desc-container"},[a("p",{staticClass:"desc"},[t._v(t._s(e.desc))]),a("p",{staticClass:"num"},[t._v(t._s(e.num))])])],1)})),1)},ot=[],lt=[{desc:"待接单",num:0,icon:"data-unreceive",key:"dai_jie_dan"},{desc:"制作中",num:0,icon:"data-making",key:"zhi_zuo_zhong"},{desc:"待签收",num:0,icon:"data-unsign",key:"dai_qian_shou"},{desc:"待投放",num:0,icon:"data-undeliver",key:"dai_tou_fang"},{desc:"投放中",num:0,icon:"data-deliver",key:"tou_fang_zhong"},{desc:"已拒签",num:0,icon:"data-reject-sign",key:"yi_ju_qian"}],ct={name:"OrderStatus",props:{data:{type:Object,default:function(){return lt.reduce((function(t,e){return Object.assign(t,Object(I["a"])({},e.key,0))}),{})}}},watch:{data:function(t){this.getStatus(t)}},created:function(){this.allStatus=lt},data:function(){return{allStatus:null}},methods:{getStatus:function(t){this.allStatus.forEach((function(e){e.num=t[e.key]}))}}},ut=ct,dt=(a("e27b"),Object(v["a"])(ut,st,ot,!1,null,"789a3aa2",null)),ht=dt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"position-relative"},[a("div",[a("el-popover",{attrs:{placement:"bottom-start",width:"280",trigger:"hover","popper-class":"data-trend-detail"}},[a("div",[a("span",{domProps:{innerHTML:t._s(t.content)}})]),a("el-button",{staticClass:"data-desc",attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("数据解读")])],1),a("div",{staticClass:"customized-checkbox"},t._l(t.allDate,(function(e,n){return a("el-button",{key:n,class:t.date===e?"button-active":"",attrs:{size:"mini"},on:{click:function(a){return t.chooseDate(e)}}},[t._v("近"+t._s(e)+"天 ")])})),1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"chart",staticClass:"chart",staticStyle:{height:"300px"}})])},ft=[],pt=(a("531f"),a("6010"),a("6aee")),gt=a("ab7d"),bt=a.n(gt),vt=3e3,yt=(bt.a.dataColorBlueSecondary,bt.a.textColorSecondary),xt=["#FFD427","#00EBFC"],_t="rgba(85, 193, 255, 0.4)",kt="#08294C",wt=1,St=[{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255, 212, 39, 0.2)"},{offset:1,color:"rgba(14, 206, 241, 0)"}],global:!1},{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(14, 206, 241, 0.2)"},{offset:1,color:"rgba(14, 206, 241, 0)"}],global:!1}],Ct=["#627CFF","#FFA34B","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],Dt="stat_datetime",Ft="cost",Et={name:"CostTrend",created:function(){this.chartData=this.handleData()},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},data:function(){return{chart:null,loading:!1,chartData:null,content:"",date:7,allDate:[7,15,30]}},methods:{chooseDate:function(t){this.date=t,this.renderChart()},getDetail:function(){return this.chartData.yAxis.reduce((function(t,e){var a="团队【".concat(e.name,"】在").concat(e.maxDate," 消耗最高，为").concat(e.max,"元；在").concat(e.minDate,"消耗最低，为").concat(e.min,"元，平均值为").concat(e.average,"元。<br/>");return t+a}),"近".concat(this.date,"日，"))},getLegend:function(t){var e=this.chartData.yAxis.map((function(t){return{name:t.name,textStyle:{color:yt},itemStyle:{color:kt,borderWidth:2,borderColor:t.color}}}));return t.legend={data:e,bottom:"3%",itemWidth:12,itemHeight:6},t},getDefaults:function(t){var e={color:Ct,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},backgroundColor:"transparent",grid:{top:"30px",left:"60px",right:"60px",bottom:"60px"}};return Object.assign(t,e)},getXAxis:function(t){return t.xAxis={type:"category",data:this.chartData.xAxis,axisLine:{lineStyle:{color:_t,width:wt}},axisTick:{show:!1},axisLabel:{color:yt}},t},getYAxis:function(t){return t.yAxis={type:"value",axisLine:{show:!0,lineStyle:{color:_t,width:wt}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{color:yt}},t},getSeries:function(t){return t.series=this.chartData.yAxis.map((function(t){return{data:t.data,type:"line",name:t.name,smooth:!0,lineStyle:{color:t.color},animationDuration:vt}})),t},handleData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};e.xAxis=t.length?t[0].data.map((function(t){return t[Dt]})):[],e.yAxis=t.map((function(t,e){var a={name:t.group_name,min:t.min,minDate:t.min_date,max:t.max,maxDate:t.max_date,color:Ct[e],average:t.ave,data:[]};return t.data.forEach((function(t){a.data.push(Number(t[Ft]))})),a})),this.chartData=e,this.content=this.getDetail()},setOptions:function(){var t={},e=this.$common.compose(this.getDefaults,this.getLegend,this.getSeries,this.getXAxis,this.getYAxis);t=e(t),this.chart.clear(),this.chart.setOption(t,!0)},httpGetData:function(){return this.$http.get("/report/screen/group-trend",{params:{select:this.date}})},renderChart:function(){var t=this;this.loading=!0,this.httpGetData().then((function(e){200===e.data.code&&(t.handleData(e.data.data),t.setOptions())}))["finally"]((function(){t.loading=!1}))},initChart:function(){this.chart=pt["a"](this.$refs.chart,"dark"),this.renderChart()}}},Tt=Et,Ot=(a("4d86"),Object(v["a"])(Tt,mt,ft,!1,null,"d0d9c9ac",null)),At=Ot.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"position-relative"},[a("div",{staticClass:"customized-checkbox f-r m-r-15"},t._l(t.allDate,(function(e,n){return a("el-button",{key:n,class:t.date===n?"button-active":"",attrs:{size:"mini"},on:{click:function(e){return t.chooseDate(n)}}},[t._v(t._s(e.label)+" ")])})),1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"chart",staticClass:"chart clear-both",staticStyle:{height:"300px"}})])},Nt=[],zt=(a("45b0"),a("7648"),a("7eeb")),It=[{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#0069F2"},{offset:1,color:"#00C8FF"}],global:!1},"#FFA34B","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],$t="product_name",jt=[{key:"cost",legend:"总消耗",type:"bar"},{key:"rise",type:"line"}],Lt={name:"ProjectCost",mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},computed:{allDate:function(){return zt["a"]}},data:function(){return{chart:null,loading:!1,date:"yesterday"}},methods:{chooseDate:function(t){this.date=t,this.renderChart()},getLegend:function(t){var e=this,a=jt.map((function(t,a){var n=e.chartData[t.key];return{name:n.name,textStyle:{color:yt},itemStyle:{color:a?kt:n.color,borderWidth:2,borderColor:n.color}}}));return t.legend={data:a,bottom:"3%",itemWidth:12,itemHeight:6},t},getDefaults:function(t){var e={color:It,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},backgroundColor:"transparent",grid:{top:"30px",left:"80px",right:"80px",bottom:"60px"}};return Object.assign(t,e)},getXAxis:function(t){return t.xAxis={type:"category",data:this.chartData.xAxis,axisLine:{lineStyle:{color:_t,width:wt}},axisLabel:{color:yt},axisTick:{show:!1}},t},getYAxis:function(t){return t.yAxis=jt.map((function(t,e){return{type:"value",position:e?"right":"left",axisLine:{show:!1,lineStyle:{color:_t}},splitLine:{show:!e,lineStyle:{color:_t,width:wt}},axisLabel:{color:yt},axisTick:{show:!1}}})),t},getSeries:function(t){var e=this;return t.series=jt.map((function(t,a){var n=e.chartData[t.key];return{data:n.data,type:n.type,name:n.name,smooth:!0,yAxisIndex:a,lineStyle:{color:n.color},areaStyle:a?null:{color:It[a]},animationDuration:vt}})),t},getLegendName:function(){return this.allDate[this.date].legend},setOptions:function(){var t={},e=this.$common.compose(this.getDefaults,this.getLegend,this.getSeries,this.getXAxis,this.getYAxis);t=e(t),this.chart.clear(),this.chart.setOption(t,!0)},handleData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={xAxis:[]};jt.forEach((function(e,n){a[e.key]={data:[],min:Number.MAX_SAFE_INTEGER,max:Number.MIN_SAFE_INTEGER,sum:0,type:e.type,name:e.legend?e.legend:t.getLegendName(),color:It[n]}})),e.forEach((function(t){a.xAxis.push(t[$t]),jt.forEach((function(e){var n=Number(t[e.key]);a[e.key].data.push(n),a[e.key].min=Math.min(a[e.key].min,n),a[e.key].max=Math.max(a[e.key].max,n),a[e.key].sum+=n}))})),jt.forEach((function(t){if(!a.xAxis.length)return a[t.key].average=0,a[t.key].min=0,void(a[t.key].max=0);a[t.key].average=(a[t.key].sum/a.xAxis.length).toFixed(2)})),this.chartData=a},httpGetData:function(){var t=this,e=Object(zt["d"])(this.date);return this.loading=!0,this.$http.get("/report/screen/product-cost",{params:{start_date:e[0],end_date:e[1]}})["finally"]((function(){t.loading=!1}))},renderChart:function(){var t=this;this.httpGetData().then((function(e){200===e.data.code&&(t.handleData(e.data.data),t.setOptions())}))},initChart:function(){this.chart=pt["a"](this.$refs.chart,"dark"),this.renderChart()}}},Mt=Lt,Rt=Object(v["a"])(Mt,Vt,Nt,!1,null,"405e887f",null),Pt=Rt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"position-relative"},[a("el-row",{staticClass:"search-container f-r"},[a("el-col",{attrs:{span:12}},[a("customized-time-picker",{attrs:{date:t.trendDate,shortcutsSetting:t.shortcutsSettings,"max-date":0,size:"mini"},on:{"update:date":function(e){t.trendDate=e}}})],1),a("el-col",{attrs:{span:12}},[a("el-input",{staticClass:"input-with-select",attrs:{"prefix-icon":"el-icon-search",size:"mini",placeholder:"请输入投放账号ID"},model:{value:t.advertiser_id,callback:function(e){t.advertiser_id=e},expression:"advertiser_id"}},[a("el-button",{attrs:{slot:"append"},on:{click:t.renderChart},slot:"append"},[t._v("搜索")])],1)],1)],1),a("el-row",{staticClass:"middle-content clear-both"},[a("el-col",{staticClass:"data",attrs:{span:10}},[a("el-row",{staticClass:"data-header",attrs:{type:"flex",gutter:20}},[a("el-col",{attrs:{span:4}}),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"data-header-cell"},[t._v("最大值")])]),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"data-header-cell"},[t._v("最小值")])]),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"data-header-cell"},[t._v("平均值")])])],1),t._l(t.chartData,(function(e,n){return[e instanceof Array||!e?t._e():a("el-row",{staticClass:"data-body",attrs:{type:"flex",gutter:20}},[a("el-col",{staticClass:"little-block-wrapper",attrs:{span:4}},[a("span",{staticClass:"little-block",style:{backgroundColor:e?e.color:"#FFFFFF"}})]),a("el-col",{attrs:{span:6}},[t._v(t._s(e.max))]),a("el-col",{attrs:{span:6}},[t._v(t._s(e.min))]),a("el-col",{attrs:{span:6}},[t._v(t._s(e.average))])],1)]}))],2),a("el-col",{attrs:{span:14}},[a("el-checkbox-group",{attrs:{size:"mini",min:1,max:2},model:{value:t.checkedOptions,callback:function(e){t.checkedOptions=e},expression:"checkedOptions"}},t._l(t.allOptions,(function(e,n){return a("el-checkbox",{key:n,attrs:{label:n,size:"mini"}},[t._v(t._s(e)+" ")])})),1)],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"chart",staticClass:"chart",staticStyle:{height:"280px"}})],1)},Bt=[],Gt=(a("c510"),a("509f"),a("678d"),{cost:"消耗",convert_cost:"转化成本",total_play:"播放数",valid_play:"有效播放数",play_over_rate:"播完率",ctr:"点击率",comment:"评论",like:"点赞",share:"转发"}),Ht="stat_datetime",Wt=a("8a61"),Yt={name:"AccountTrend",mixins:[Wt["a"]],created:function(){this.allOptions=Gt,this.checkedOptions=Object.keys(Gt).slice(0,2),this.chartData=this.handleData()},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},data:function(){return{chart:null,loading:!1,chartData:null,allOptions:null,checkedOptions:null,advertiser_id:"",trendDate:Object(zt["f"])(7,1)}},methods:{getLegend:function(t){var e=this,a=this.checkedOptions.map((function(t){var a=e.chartData[t];return{name:a.name,textStyle:{color:yt},itemStyle:{color:kt,borderWidth:2,borderColor:a.color}}}));return t.legend={data:a,bottom:"8%",itemWidth:12,itemHeight:6},t},getDefaults:function(t){var e={color:xt,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},backgroundColor:"transparent",grid:{top:"10%",left:"80px",right:"80px",bottom:"25%"}};return Object.assign(t,e)},getXAxis:function(t){return t.xAxis={type:"category",data:this.chartData[Ht],axisLine:{lineStyle:{color:_t,width:wt}},axisTick:{show:!1},axisLabel:{color:yt}},t},getYAxis:function(t){return t.yAxis=this.checkedOptions.map((function(t,e){return{type:"value",position:e?"right":"left",axisLine:{show:!0,lineStyle:{color:_t,width:wt}},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:yt}}})),t},getSeries:function(t){var e=this;return t.series=this.checkedOptions.map((function(t,a){var n=e.chartData[t];return{data:n.data,type:"line",name:n.name,smooth:!0,yAxisIndex:a,lineStyle:{color:n.color},areaStyle:{color:St[a]},animationDuration:vt}})),t},handleData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a={};a[Ht]=[],this.checkedOptions.forEach((function(t,e){a[t]={data:[],min:Number.MAX_SAFE_INTEGER,max:Number.MIN_SAFE_INTEGER,sum:0,name:Gt[t],color:xt[e]}})),e.forEach((function(e){a[Ht].push(e[Ht]),t.checkedOptions.forEach((function(t){var n=Number(e[t]);a[t].data.push(n),a[t].min=Math.min(a[t].min,n),a[t].max=Math.max(a[t].max,n),a[t].sum+=n}))})),this.checkedOptions.forEach((function(t){if(!a[Ht].length)return a[t].average=0,a[t].min=0,void(a[t].max=0);a[t].average=(a[t].sum/a[Ht].length).toFixed()})),this.chartData=a},setOptions:function(){var t={},e=this.$common.compose(this.getDefaults,this.getLegend,this.getSeries,this.getXAxis,this.getYAxis);t=e(t),this.chart.clear(),this.chart.setOption(t,!0)},httpGetData:function(){return this.$http.get("/report/screen/account-trend",{params:{start_date:this.$common.getNewDay(this.trendDate[0]),end_date:this.$common.getNewDay(this.trendDate[1]),advertiser_id:this.advertiser_id,select:JSON.stringify(this.checkedOptions)}})},renderChart:function(){var t=this;this.loading=!0,this.httpGetData().then((function(e){200===e.data.code&&(t.handleData(e.data.data),t.setOptions())}))["finally"]((function(){t.loading=!1}))},initChart:function(){this.chart=pt["a"](this.$refs.chart,"dark"),this.renderChart()}}},Xt=Yt,Jt=(a("a05a"),Object(v["a"])(Xt,qt,Bt,!1,null,"1e03065b",null)),Kt=Jt.exports,Qt=document,Ut=Qt.body,Zt={name:"Data",components:{CountTo:x,timeClock:D,customizedCountTo:V,projectProgress:R,costRank:J,makingOrder:rt,orderStatus:ht,costTrend:At,accountTrend:Kt,projectCost:Pt},data:function(){return{costLoading:!1,scaleRate:1,marginBottom:0,orderRank:null,costSum:0,orderSummary:null,isFullScreen:!1,timerId:0}},created:function(){this.fullScreen()},mounted:function(){this.resizeHandler(),window.addEventListener("resize",this.resizeHandler),this.isFullScreen=l.a.isFullScreen,this.getOrderSummary(),this.timerId=setInterval(this.getOrderSummary,vt),this.getCostSummary()},destroyed:function(){window.removeEventListener("resize",this.resizeHandler),clearInterval(this.timerId),l.a.exit()},methods:{resizeHandler:function(){var t=Ut.getBoundingClientRect();this.scaleRate=(t.width/1920).toFixed(6),this.marginBottom=1080*Math.max(1-this.scaleRate,0)},fullScreen:function(){if(!l.a.isEnabled)return this.$message({message:"不支持全屏",type:"warning"}),!1;l.a.request()["catch"]((function(t){console.warn(t)}))},exit:function(){this.$router.push("/")},getOrderSummary:function(){var t=this;this.$http.get("/report/screen/number").then((function(e){200===e.data.code&&(t.orderSummary=e.data.data)}))["catch"]((function(e){console.warn(e),clearInterval(t.timerId)}))},getCostSummary:function(){var t=this;this.costLoading=!0,this.$http.get("/report/screen").then((function(e){200===e.data.code&&(t.costSum=Math.ceil(e.data.data.order_total_cost),t.orderRank=e.data.data.creative_top)}))["finally"]((function(){t.costLoading=!1}))}}},te=Zt,ee=(a("cfd3"),Object(v["a"])(te,r,s,!1,null,"2d6dfad8",null));e["default"]=ee.exports},"3a05":function(t,e,a){"use strict";a("0ea4")},"3c42":function(t,e,a){var n=a("9c15"),i=a("8655"),r=a("24bc"),s=a("51c1"),o=a("6532"),l=a("b072"),c=/MSIE .\./.test(o),u=i.Function,d=function(t){return function(e,a){var n=arguments.length>2,i=n?l(arguments,2):void 0;return t(n?function(){r(s(e)?e:u(e),this,i)}:e,a)}};n({global:!0,bind:!0,forced:c},{setTimeout:d(i.setTimeout),setInterval:d(i.setInterval)})},"45b0":function(t,e,a){var n=a("9c15");n({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},4734:function(t,e,a){},"47e8":function(t,e,a){"use strict";var n=a("9c15"),i=a("b5db").trim,r=a("05ce");n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},4859:function(t,e,a){"use strict";a("8cf3")},"4bbd":function(t,e,a){"use strict";e["a"]={data:function(){return{pageSize:10,total:0,currentPage:1,header:null,tableData:[],loading:!1}},mounted:function(){},methods:{pageChange:function(t,e,a){this.currentPage=a,t.call(e,a)},pageSizeChange:function(t,e,a){this.pageSize=a,this.pageChange(t,e,1)}}}},"4d86":function(t,e,a){"use strict";a("4e2a")},"4e2a":function(t,e,a){},"58e3":function(t,e,a){},5973:function(t,e,a){},"5bba":function(t,e,a){"use strict";a("95c2")},7648:function(t,e,a){var n=a("9c15");n({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},"7eeb":function(t,e,a){"use strict";a.d(e,"f",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"g",(function(){return o})),a.d(e,"b",(function(){return l})),a.d(e,"e",(function(){return c})),a.d(e,"a",(function(){return u})),a.d(e,"d",(function(){return d}));var n=a("7980"),i=(a("1ae6"),a("f904")),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new Date,n=new Date,i=e+t-1;return a.setTime(a.getTime()-864e5*i),n.setTime(n.getTime()-864e5*e),[a,n]},s=function(){var t=new Date,e=new Date,a=t.getDay()>0?t.getDay()-1:6;return e.setTime(e.getTime()-864e5*a),[e,t]},o=function(){var t=new Date,e=new Date,a=t.getDay();return e.setTime(e.getTime()-864e5*(a+6)),t.setTime(t.getTime()-864e5*a),[e,t]},l=function(){var t=new Date,e=new Date,a=t.getDate()-1;return e.setTime(e.getTime()-864e5*a),[e,t]},c=function(){var t=new Date,e=t.getDate(),a=t.getFullYear()-(t.getMonth()>0?0:1),n=(t.getMonth()+11)%12,i=new Date(a,n,1);return t.setTime(t.getTime()-864e5*e),[i,t]},u={yesterday:{label:"昨日消耗",legend:"前日环比",handler:r,params:[1,1]},lastSeven:{label:"近七日消耗",legend:"上一周期环比",handler:r,params:[7,1]},thisWeek:{label:"本周消耗",legend:"上一周环比",handler:s},thisMonth:{label:"本月消耗",legend:"上月环比",handler:l}},d=function(t){var e=u[t],a=e.params?e.params:[],r=e.handler.apply(e,Object(n["a"])(a));return r=r.map((function(t){return i["a"].getNewDay(t)})),r}},"8a61":function(t,e,a){"use strict";e["a"]={data:function(){return{shortcutsSettings:["today","yesterday","lastSeven","lastThirty","curWeek","lastWeek","curMonth","lastMonth"],shortcutsSetting:["today","yesterday","lastSeven","lastThirty","lastNinety","curWeek","lastWeek","curMonth","lastMonth"],statisticsTime:[(new Date).getTime()-6048e5,(new Date).getTime()]}}}},"8cf3":function(t,e,a){},"95c2":function(t,e,a){},a05a:function(t,e,a){"use strict";a("58e3")},a913:function(t,e,a){"use strict";a("e392")},ab7d:function(t,e,a){t.exports={textColorSecondary:"rgba(255,255,255,0.8)",dataColorBlueSecondary:"#7DD5FF"}},bd3e:function(t,e,a){
/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/
(function(){"use strict";var e="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},a=t.exports,n=function(){for(var t,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=a.length,r={};n<i;n++)if(t=a[n],t&&t[1]in e){for(n=0;n<t.length;n++)r[a[0][n]]=t[n];return r}return!1}(),i={change:n.fullscreenchange,error:n.fullscreenerror},r={request:function(t,a){return new Promise(function(i,r){var s=function(){this.off("change",s),i()}.bind(this);this.on("change",s),t=t||e.documentElement;var o=t[n.requestFullscreen](a);o instanceof Promise&&o.then(s).catch(r)}.bind(this))},exit:function(){return new Promise(function(t,a){if(this.isFullscreen){var i=function(){this.off("change",i),t()}.bind(this);this.on("change",i);var r=e[n.exitFullscreen]();r instanceof Promise&&r.then(i).catch(a)}else t()}.bind(this))},toggle:function(t,e){return this.isFullscreen?this.exit():this.request(t,e)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,a){var n=i[t];n&&e.addEventListener(n,a,!1)},off:function(t,a){var n=i[t];n&&e.removeEventListener(n,a,!1)},raw:n};n?(Object.defineProperties(r,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),a?t.exports=r:window.screenfull=r):a?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}})()},cfd3:function(t,e,a){"use strict";a("4734")},e27b:function(t,e,a){"use strict";a("5973")},e392:function(t,e,a){},fb28:function(t,e,a){var n=a("8655"),i=a("2c48"),r=a("5008"),s=a("ffb3"),o=a("b5db").trim,l=a("cb1f"),c=r("".charAt),u=n.parseFloat,d=n.Symbol,h=d&&d.iterator,m=1/u(l+"-0")!==-1/0||h&&!i((function(){u(Object(h))}));t.exports=m?function(t){var e=o(s(t)),a=u(e);return 0===a&&"-"==c(e,0)?-0:a}:u},fd22:function(t,e,a){var n=a("9c15"),i=a("fb28");n({global:!0,forced:parseFloat!=i},{parseFloat:i})}}]);
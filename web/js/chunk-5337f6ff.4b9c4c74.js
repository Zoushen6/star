(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5337f6ff"],{"05ce":function(t,e,a){var n=a("6809").PROPER,i=a("2c48"),r=a("cb1f"),o="​᠎";t.exports=function(t){return i((function(){return!!r[t]()||o[t]()!==o||n&&r[t].name!==t}))}},"0e7d":function(t,e,a){"use strict";a("5aae");e["a"]={data:function(){return{export:"",order:null,sort:null,minDate:Math.ceil((new Date-new Date("2018-1-1"))/864e5),shortcutsSetting:["yesterday","lastSeven","lastThirty","lastWeek","lastMonth"]}},mounted:function(){},methods:{sortChangeHandle:function(t){t.order?(this.order=t.prop,this.sort="descending"===t.order?"desc":"asc"):(this.order=null,this.sort=null),this.tableLoad()},downloadReport:function(t){var e=this;this["export"]=t,0===this.tableData.length?this.$message.warning("没有数据可以下载"):this.requestTable().then((function(t){if(200===t.data.code){var a=e.$router.resolve({name:"downloadCenter"}).href;e.$message.success({dangerouslyUseHTMLString:!0,message:'已添加到下载中心，请到<a class="redirect-download" href='.concat(a,">下载中心</a>查看")})}})),this["export"]=""},search:function(){this.tableLoad()}}}},"1b5d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"flex-vertical flex-1 m-l-r-16"},[n("el-form",{staticClass:"customized-form padding-top background-white p-l-r-24",attrs:{inline:!0,model:e.optionsForm}},[n("div",{staticClass:"flex"},[n("span",{staticClass:"inline-block form-item-title"},[e._v("基础筛选")]),n("div",{staticClass:"flex-1"},[n("el-form-item",{staticClass:"search-content",attrs:{prop:"selectValue",required:!1}},[n("el-input",{staticClass:"long-item input-with-select",attrs:{placeholder:"advertiser"===e.optionsForm.selectValue?"请输入广告主账户或ID":"请输入广告主公司名称或ID"},model:{value:e.optionsForm.inputValue,callback:function(t){e.$set(e.optionsForm,"inputValue",t)},expression:"optionsForm.inputValue"}},[n("el-select",{attrs:{slot:"prepend",placeholder:"选择类型"},slot:"prepend",model:{value:e.optionsForm.selectValue,callback:function(t){e.$set(e.optionsForm,"selectValue",t)},expression:"optionsForm.selectValue"}},e._l(e.selectType,(function(t){return n("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1)],1),n("el-form-item",{staticClass:"search-btn"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search("addOptions")}}},[e._v("查询")]),n("el-button",{staticClass:"reset",on:{click:e.reset}},[e._v("重置")])],1)],1)])]),n("div",{staticClass:"background-white m-t-b-20 flex-1 flex-vertical table-box"},[n("div",{staticClass:"report-title p-l-r-24 m-t-b-16"},[n("div",{staticClass:"inline-block f-r"},[n("span",{staticClass:"update-time m-r-25"},[e._v("数据更新时间："+e._s(e.dataUpdateDate))]),n("el-button",{staticClass:"customized-button",on:{click:function(t){return e.downloadReport(1)}}},[n("span",{staticClass:"iconfont icon-download"}),e._v("下载报表")])],1)]),n("customized-table",{ref:"customizedTable",staticClass:"customized-table mini-table has-border flex-1 p-l-r-24",attrs:{Header:e.header,"scroll-in-table":!1,loading:e.loading,Data:e.tableData,total:e.total,"page-size":e.pageSize,"current-page":e.currentPage},on:{"size-change":function(a){e.pageSizeChange(e.tableLoad,t,a)},"current-change":function(a){e.pageChange(e.tableLoad,t,a)},"sort-change":e.sortChangeHandle}})],1)],1)},i=[],r=a("d696"),o=(a("5aae"),a("47e8"),a("f8c2"),a("22f7"),a("a1c0")),s=a("4bbd"),l=[{value:"广告主账户或ID",id:"advertiser"},{value:"广告主公司名称或ID",id:"company"}],c=[{prop:"advertiser_id",label:"广告主账户ID",minWidth:"200"},{prop:"advertiser_name",label:"广告主账户名称",minWidth:"250"},{prop:"company_id",label:"广告主公司ID",minWidth:"150"},{prop:"company_name",label:"广告主公司名称",minWidth:"250"},{prop:"st",label:"签约公司",minWidth:"120"},{prop:"balance",label:"总余额",minWidth:"110",sortable:"descending"},{prop:"valid_balance",label:"总可用余额",minWidth:"110",sortable:"descending"},{prop:"transferred_balance",label:"总可转余额",minWidth:"110",sortable:"descending"},{prop:"un_grants_cost",label:"近7日非赠款消耗",minWidth:"140",sortable:"descending"},{prop:"st",label:"未来7日预算",minWidth:"120"},{prop:"st",label:"尚可充值余额",minWidth:"120"}],d=a("0e7d"),u={name:"BalanceReport",components:{CustomizedTable:o["default"]},mixins:[s["a"],d["a"]],created:function(){this.header=c},activated:function(){this.tableLoad()},deactivated:function(){this.reset()},data:function(){return{dataUpdateDate:"",value:"",selectType:l,optionsForm:{selectValue:"advertiser",inputValue:""}}},methods:{requestTable:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.$http.get("report/balance/index",{params:(t={order:this.order,sort:this.sort},Object(r["a"])(t,this.optionsForm.selectValue,this.optionsForm.inputValue.trim()),Object(r["a"])(t,"is_export",this["export"]?this["export"]:""),Object(r["a"])(t,"page",e),Object(r["a"])(t,"page_size",this.pageSize),t)})},tableLoad:function(t){var e=this;this.loading=!0,this.requestTable(t).then((function(a){200===a.data.code&&(e.tableData=a.data.data.list,e.dataUpdateDate=a.data.data.date,e.total=Number(a.data.data.pagination.total),e.currentPage=t)}))["catch"]((function(t){console.warn(t)}))["finally"]((function(){e.loading=!1}))},reset:function(){this.optionsForm.inputValue=""}}},p=u,h=(a("f380"),a("cba8")),f=Object(h["a"])(p,n,i,!1,null,"4ec5e769",null);e["default"]=f.exports},"47e8":function(t,e,a){"use strict";var n=a("9c15"),i=a("b5db").trim,r=a("05ce");n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},"4bbd":function(t,e,a){"use strict";e["a"]={data:function(){return{pageSize:10,total:0,currentPage:1,header:null,tableData:[],loading:!1}},mounted:function(){},methods:{pageChange:function(t,e,a){this.currentPage=a,t.call(e,a)},pageSizeChange:function(t,e,a){this.pageSize=a,this.pageChange(t,e,1)}}}},"5aae":function(t,e,a){"use strict";var n=a("9c15"),i=a("5008"),r=a("1c72"),o=a("059d"),s=a("d7ab"),l=a("ffb3"),c=a("2c48"),d=a("430c"),u=a("130a"),p=a("c91b"),h=a("e9db"),f=a("d006"),b=a("8289"),m=[],g=i(m.sort),v=i(m.push),C=c((function(){m.sort(void 0)})),x=c((function(){m.sort(null)})),w=u("sort"),_=!c((function(){if(f)return f<70;if(!(p&&p>3)){if(h)return!0;if(b)return b<603;var t,e,a,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(n=0;n<47;n++)m.push({k:e+n,v:a})}for(m.sort((function(t,e){return e.v-t.v})),n=0;n<m.length;n++)e=m[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}})),k=C||!x||!w||!_,D=function(t){return function(e,a){return void 0===a?-1:void 0===e?1:void 0!==t?+t(e,a)||0:l(e)>l(a)?1:-1}};n({target:"Array",proto:!0,forced:k},{sort:function(t){void 0!==t&&r(t);var e=o(this);if(_)return void 0===t?g(e):g(e,t);var a,n,i=[],l=s(e);for(n=0;n<l;n++)n in e&&v(i,e[n]);d(i,D(t)),a=i.length,n=0;while(n<a)e[n]=i[n++];while(n<l)delete e[n++];return e}})},8289:function(t,e,a){var n=a("6532"),i=n.match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},"877b":function(t,e,a){},c91b:function(t,e,a){var n=a("6532"),i=n.match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},e9db:function(t,e,a){var n=a("6532");t.exports=/MSIE|Trident/.test(n)},f380:function(t,e,a){"use strict";a("877b")}}]);
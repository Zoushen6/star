(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e4b2de0"],{"05ce":function(t,e,a){var n=a("6809").PROPER,r=a("2c48"),i=a("cb1f"),o="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||o[t]()!==o||n&&i[t].name!==t}))}},"0c6c":function(t,e,a){"use strict";a("5e68")},"0e7d":function(t,e,a){"use strict";a("5aae");e["a"]={data:function(){return{export:"",order:null,sort:null,minDate:Math.ceil((new Date-new Date("2018-1-1"))/864e5),shortcutsSetting:["yesterday","lastSeven","lastThirty","lastWeek","lastMonth"]}},mounted:function(){},methods:{sortChangeHandle:function(t){t.order?(this.order=t.prop,this.sort="descending"===t.order?"desc":"asc"):(this.order=null,this.sort=null),this.tableLoad()},downloadReport:function(t){var e=this;this["export"]=t,0===this.tableData.length?this.$message.warning("没有数据可以下载"):this.requestTable().then((function(t){if(200===t.data.code){var a=e.$router.resolve({name:"downloadCenter"}).href;e.$message.success({dangerouslyUseHTMLString:!0,message:'已添加到下载中心，请到<a class="redirect-download" href='.concat(a,">下载中心</a>查看")})}})),this["export"]=""},search:function(){this.tableLoad()}}}},"47e8":function(t,e,a){"use strict";var n=a("9c15"),r=a("b5db").trim,i=a("05ce");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return r(this)}})},"4bbd":function(t,e,a){"use strict";e["a"]={data:function(){return{pageSize:10,total:0,currentPage:1,header:null,tableData:[],loading:!1}},mounted:function(){},methods:{pageChange:function(t,e,a){this.currentPage=a,t.call(e,a)},pageSizeChange:function(t,e,a){this.pageSize=a,this.pageChange(t,e,1)}}}},"534d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"flex-vertical flex-1 m-l-r-16"},[n("el-form",{ref:"addOptions",staticClass:"customized-form padding-top background-white p-l-r-24",attrs:{inline:!0,model:e.optionsForm}},[n("div",{staticClass:"flex"},[n("span",{staticClass:"inline-block form-item-title"},[e._v("基础筛选")]),n("div",{staticClass:"flex-1"},[n("el-form-item",{staticClass:"search-content",attrs:{prop:"selectValue",required:!1}},[n("el-input",{staticClass:"long-item input-with-select",attrs:{placeholder:"advertise"===e.optionsForm.selectValue?"请输入广告主账户或ID":"请输入代理商名称或ID"},model:{value:e.optionsForm.inputValue,callback:function(t){e.$set(e.optionsForm,"inputValue",t)},expression:"optionsForm.inputValue"}},[n("el-select",{attrs:{slot:"prepend",placeholder:"选择类型"},slot:"prepend",model:{value:e.optionsForm.selectValue,callback:function(t){e.$set(e.optionsForm,"selectValue",t)},expression:"optionsForm.selectValue"}},e._l(e.selectType,(function(t){return n("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1)],1),n("el-form-item",{attrs:{prop:"dateValue"}},[n("customized-time-picker",{staticClass:"time-picker long-item",attrs:{date:e.optionsForm.dateValue,shortcutsSetting:e.shortcutsSetting,"max-date":1,"min-date":e.minDate},on:{"update:date":function(t){return e.$set(e.optionsForm,"dateValue",t)}}})],1),n("el-form-item",{staticClass:"search-btn"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),n("el-button",{staticClass:"reset",on:{click:e.reset}},[e._v("重置")])],1)],1)])]),n("div",{staticClass:"background-white m-t-b-20 flex-1 flex-vertical table-box"},[n("div",{staticClass:"report-title p-l-r-24 m-t-b-16"},[n("span",{staticClass:"update-time f-l"},[n("i",[e._v("总支出："+e._s(e.statistical.cost?e.statistical.cost:0)+" 元")]),n("i",[e._v("总存入："+e._s(e.statistical.income?e.statistical.income:0)+" 元")]),n("i",[e._v("总转出："+e._s(e.statistical.transfer_out?e.statistical.transfer_out:0)+" 元")]),n("i",[e._v("总转入："+e._s(e.statistical.transfer_in?e.statistical.transfer_in:0)+" 元")])]),n("div",{staticClass:"inline-block f-r"},[n("el-button",{staticClass:"customized-button",on:{click:function(t){return e.downloadReport(1)}}},[n("span",{staticClass:"iconfont icon-download"}),e._v("下载报表")])],1)]),n("customized-table",{ref:"customizedTable",staticClass:"customized-table mini-table flex-1 has-border p-l-r-24",attrs:{"scroll-in-table":!1,Header:e.header,loading:e.loading,Data:e.tableData,total:e.total,"page-size":e.pageSize,"current-page":e.currentPage},on:{"size-change":function(a){e.pageSizeChange(e.tableLoad,t,a)},"current-change":function(a){e.pageChange(e.tableLoad,t,a)},"sort-change":e.sortChangeHandle}})],1)],1)},r=[],i=a("d696"),o=(a("47e8"),a("5aae"),a("f8c2"),a("22f7"),a("a1c0")),s=a("4bbd"),c=a("7eeb"),l=[{value:"广告主账户或ID",id:"advertiser"},{value:"代理商名称或ID",id:"agent"}],d=[{prop:"stat_datetime",fixed:!0,width:"160",label:"统计时间",sortable:"descending"},{prop:"advertiser_id",label:"广告主账户ID",width:"150",fixed:!0},{prop:"advertiser_name",label:"广告主账户名称",width:"220",fixed:!0},{prop:"agent_child_id",label:"代理商子账户ID",width:"160"},{prop:"agent_child_name",label:"代理商子帐户名称",width:"160"},{prop:"agent_id",label:"代理商帐户ID",width:"180"},{prop:"agent_name",label:"代理商帐户名称",width:"180"},{prop:"shared_grants_cost",label:"共享赠款支出",width:"150",sortable:"descending"},{prop:"cost",label:"总支出",width:"100",sortable:"descending"},{prop:"income",label:"总存入",width:"100",sortable:"descending"},{prop:"transfer_out",label:"总转出",width:"100",sortable:"descending"},{prop:"transfer_in",label:"总转入",width:"100",sortable:"descending"},{prop:"un_grants_balance",label:"非赠款余额",width:"120",sortable:"descending"},{prop:"grants_balance",label:"赠款余额",width:"120",sortable:"descending"},{prop:"balance",label:"日终结余",width:"120",sortable:"descending"},{prop:"frozen",label:"冻结余额",width:"120",sortable:"descending"}],u=a("0e7d"),f={name:"AdStreamReport",components:{CustomizedTable:o["default"]},mixins:[s["a"],u["a"]],created:function(){this.header=d},activated:function(){this.tableLoad()},deactivated:function(){this.reset()},data:function(){return{selectType:l,statistical:{cost:"",transfer_in:"",transfer_out:"",income:""},optionsForm:{dateValue:Object(c["f"])(1,1),selectValue:"advertiser",inputValue:""}}},methods:{requestTable:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.$http.get("report/adv/index",{params:(t={start_date:this.$common.getNewDay(this.optionsForm.dateValue[0]),end_date:this.$common.getNewDay(this.optionsForm.dateValue[1])},Object(i["a"])(t,this.optionsForm.selectValue,this.optionsForm.inputValue.trim()),Object(i["a"])(t,"order",this.order),Object(i["a"])(t,"sort",this.sort),Object(i["a"])(t,"is_export",this["export"]?this["export"]:""),Object(i["a"])(t,"page",e),Object(i["a"])(t,"page_size",this.pageSize),t)})},tableLoad:function(t){var e=this;this.loading=!0,this.statistical={},this.requestTable(t).then((function(a){200===a.data.code&&(e.tableData=a.data.data.list,e.statistical=a.data.data.total,e.total=Number(a.data.data.pagination.total),e.currentPage=t)}))["catch"]((function(t){console.warn(t)}))["finally"]((function(){e.loading=!1}))},reset:function(){this.optionsForm.inputValue="",this.optionsForm.dateValue=Object(c["f"])(1,1)}}},p=f,h=(a("0c6c"),a("cba8")),m=Object(h["a"])(p,n,r,!1,null,"3cf10962",null);e["default"]=m.exports},"5aae":function(t,e,a){"use strict";var n=a("9c15"),r=a("5008"),i=a("1c72"),o=a("059d"),s=a("d7ab"),c=a("ffb3"),l=a("2c48"),d=a("430c"),u=a("130a"),f=a("c91b"),p=a("e9db"),h=a("d006"),m=a("8289"),b=[],g=r(b.sort),v=r(b.push),w=l((function(){b.sort(void 0)})),_=l((function(){b.sort(null)})),y=u("sort"),D=!l((function(){if(h)return h<70;if(!(f&&f>3)){if(p)return!0;if(m)return m<603;var t,e,a,n,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(n=0;n<47;n++)b.push({k:e+n,v:a})}for(b.sort((function(t,e){return e.v-t.v})),n=0;n<b.length;n++)e=b[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),C=w||!_||!y||!D,x=function(t){return function(e,a){return void 0===a?-1:void 0===e?1:void 0!==t?+t(e,a)||0:c(e)>c(a)?1:-1}};n({target:"Array",proto:!0,forced:C},{sort:function(t){void 0!==t&&i(t);var e=o(this);if(D)return void 0===t?g(e):g(e,t);var a,n,r=[],c=s(e);for(n=0;n<c;n++)n in e&&v(r,e[n]);d(r,x(t)),a=r.length,n=0;while(n<a)e[n]=r[n++];while(n<c)delete e[n++];return e}})},"5e68":function(t,e,a){},6860:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("c510"),a("f8c2"),a("6010"),a("e15d"),a("e4de"),a("d64c"),a("98ff");var n=a("a01c");function r(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(t,e):void 0}}},7980:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));a("828e");var n=a("a01c");function r(t){if(Array.isArray(t))return Object(n["a"])(t)}a("74c4"),a("1f83"),a("f8c2"),a("2da9"),a("e4de"),a("b00a"),a("e15d");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var o=a("6860");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||i(t)||Object(o["a"])(t)||s()}},"7eeb":function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"g",(function(){return s})),a.d(e,"b",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"a",(function(){return d})),a.d(e,"d",(function(){return u}));var n=a("7980"),r=(a("1ae6"),a("f904")),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new Date,n=new Date,r=e+t-1;return a.setTime(a.getTime()-864e5*r),n.setTime(n.getTime()-864e5*e),[a,n]},o=function(){var t=new Date,e=new Date,a=t.getDay()>0?t.getDay()-1:6;return e.setTime(e.getTime()-864e5*a),[e,t]},s=function(){var t=new Date,e=new Date,a=t.getDay();return e.setTime(e.getTime()-864e5*(a+6)),t.setTime(t.getTime()-864e5*a),[e,t]},c=function(){var t=new Date,e=new Date,a=t.getDate()-1;return e.setTime(e.getTime()-864e5*a),[e,t]},l=function(){var t=new Date,e=t.getDate(),a=t.getFullYear()-(t.getMonth()>0?0:1),n=(t.getMonth()+11)%12,r=new Date(a,n,1);return t.setTime(t.getTime()-864e5*e),[r,t]},d={yesterday:{label:"昨日消耗",legend:"前日环比",handler:i,params:[1,1]},lastSeven:{label:"近七日消耗",legend:"上一周期环比",handler:i,params:[7,1]},thisWeek:{label:"本周消耗",legend:"上一周环比",handler:o},thisMonth:{label:"本月消耗",legend:"上月环比",handler:c}},u=function(t){var e=d[t],a=e.params?e.params:[],i=e.handler.apply(e,Object(n["a"])(a));return i=i.map((function(t){return r["a"].getNewDay(t)})),i}},8289:function(t,e,a){var n=a("6532"),r=n.match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},"828e":function(t,e,a){var n=a("9c15"),r=a("81c6");n({target:"Array",stat:!0},{isArray:r})},a01c:function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}a.d(e,"a",(function(){return n}))},c91b:function(t,e,a){var n=a("6532"),r=n.match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},e15d:function(t,e,a){var n=a("9c15"),r=a("7c9d"),i=a("774a"),o=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:r})},e9db:function(t,e,a){var n=a("6532");t.exports=/MSIE|Trident/.test(n)}}]);
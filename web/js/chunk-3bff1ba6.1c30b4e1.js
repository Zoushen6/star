(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bff1ba6"],{"05ce":function(t,e,r){var a=r("6809").PROPER,l=r("2c48"),o=r("cb1f"),n="​᠎";t.exports=function(t){return l((function(){return!!o[t]()||n[t]()!==n||a&&o[t].name!==t}))}},"0e7d":function(t,e,r){"use strict";r("5aae");e["a"]={data:function(){return{export:"",order:null,sort:null,minDate:Math.ceil((new Date-new Date("2018-1-1"))/864e5),shortcutsSetting:["yesterday","lastSeven","lastThirty","lastWeek","lastMonth"]}},mounted:function(){},methods:{sortChangeHandle:function(t){t.order?(this.order=t.prop,this.sort="descending"===t.order?"desc":"asc"):(this.order=null,this.sort=null),this.tableLoad()},downloadReport:function(t){var e=this;this["export"]=t,0===this.tableData.length?this.$message.warning("没有数据可以下载"):this.requestTable().then((function(t){if(200===t.data.code){var r=e.$router.resolve({name:"downloadCenter"}).href;e.$message.success({dangerouslyUseHTMLString:!0,message:'已添加到下载中心，请到<a class="redirect-download" href='.concat(r,">下载中心</a>查看")})}})),this["export"]=""},search:function(){this.tableLoad()}}}},"1b04":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"flex-vertical flex-1 m-l-r-16"},[a("el-form",{ref:"settlementReportForm",staticClass:"customized-form padding-top background-white p-l-r-24",attrs:{inline:!0,model:e.settlementReportForm}},[a("div",{staticClass:"flex"},[a("span",{staticClass:"inline-block form-item-title"},[e._v("基础筛选")]),a("div",{staticClass:"flex-1"},[a("el-form-item",{staticClass:"search-content",attrs:{prop:"inputValue",required:!1}},[a("el-input",{staticClass:"long-item input-with-select",attrs:{placeholder:"请输入所要查询的内容"},model:{value:e.settlementReportForm.inputValue,callback:function(t){e.$set(e.settlementReportForm,"inputValue",t)},expression:"settlementReportForm.inputValue"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"选择类型",clearable:""},slot:"prepend",model:{value:e.settlementReportForm.selectValue,callback:function(t){e.$set(e.settlementReportForm,"selectValue",t)},expression:"settlementReportForm.selectValue"}},e._l(e.selectType,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1)],1),a("el-form-item",{staticClass:"middle-item",attrs:{prop:"lastQuarterIndustry"}},[a("el-select",{attrs:{placeholder:"上季度行业是否一致",clearable:""},model:{value:e.settlementReportForm.lastQuarterIndustry,callback:function(t){e.$set(e.settlementReportForm,"lastQuarterIndustry",t)},expression:"settlementReportForm.lastQuarterIndustry"}},e._l(e.lastQuarterIndustryType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),a("el-form-item",{staticClass:"middle-item",attrs:{prop:"lastQuarterPolicy"}},[a("el-select",{attrs:{placeholder:"上季度政策是否一致",clearable:""},model:{value:e.settlementReportForm.lastQuarterPolicy,callback:function(t){e.$set(e.settlementReportForm,"lastQuarterPolicy",t)},expression:"settlementReportForm.lastQuarterPolicy"}},e._l(e.lastQuarterPolicyType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),a("el-form-item",{staticClass:"middle-item",attrs:{prop:"quarterIndustry"}},[a("el-select",{attrs:{placeholder:"本季度行业是否一致",clearable:""},model:{value:e.settlementReportForm.quarterIndustry,callback:function(t){e.$set(e.settlementReportForm,"quarterIndustry",t)},expression:"settlementReportForm.quarterIndustry"}},e._l(e.quarterIndustryType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),a("el-form-item",{staticClass:"middle-item",attrs:{prop:"quarterPolicy"}},[a("el-select",{attrs:{placeholder:"本季度政策是否一致",clearable:""},model:{value:e.settlementReportForm.quarterPolicy,callback:function(t){e.$set(e.settlementReportForm,"quarterPolicy",t)},expression:"settlementReportForm.quarterPolicy"}},e._l(e.quarterPolicyType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),a("el-form-item",{staticClass:"middle-item",attrs:{prop:"quarterComplaint"}},[a("el-select",{attrs:{placeholder:"本季度申诉状态",clearable:""},model:{value:e.settlementReportForm.quarterComplaint,callback:function(t){e.$set(e.settlementReportForm,"quarterComplaint",t)},expression:"settlementReportForm.quarterComplaint"}},e._l(e.quarterComplaintType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1),a("el-form-item",{staticClass:"f-r search-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search("addOptions")}}},[e._v("查询")]),a("el-button",{staticClass:"reset",on:{click:e.reset}},[e._v("重置")])],1)],1)])]),a("div",{staticClass:"background-white m-t-b-20 flex-1 flex-vertical table-box"},[a("div",{staticClass:"report-title p-l-r-24 m-t-b-16"},[a("div",{staticClass:"inline-block f-r"},[a("span",{staticClass:"iconfont icon-prompt m-r-25 pointer amount",attrs:{title:"最新产出数据为截至"+e.date+"日的判定和申诉结果"}}),a("el-button",{staticClass:"customized-button",on:{click:function(t){return e.downloadReport(1)}}},[a("span",{staticClass:"iconfont icon-download"}),e._v("下载报表")])],1)]),a("customized-table",{ref:"customizedTable",staticClass:"flex-1 customized-table has-border mini-table p-l-r-24",attrs:{"scroll-in-table":!1,Header:e.header,loading:e.loading,Data:e.tableData,total:e.total,"page-size":e.pageSize,"current-page":e.currentPage},on:{"size-change":function(r){e.pageSizeChange(e.tableLoad,t,r)},"current-change":function(r){e.pageChange(e.tableLoad,t,r)},"sort-change":e.sortChangeHandle}})],1)],1)},l=[],o=r("d696"),n=(r("5aae"),r("47e8"),r("f8c2"),r("22f7"),r("a1c0")),i=r("4bbd"),s=[{prop:"advertiser_id",label:"广告主ID",fixed:!0,width:"160"},{prop:"advertiser_name",label:"广告主名称",fixed:!0,width:"200"},{prop:"agent_id",label:"代理商ID",width:"200"},{prop:"agent_name",label:"代理商账户",width:"160"},{prop:"agent_child_id",label:"代理商子账户ID",width:"160"},{prop:"agent_child_name",label:"代理商子账户名称",width:"200"},{prop:"company_id",label:"所属公司ID",width:"200"},{prop:"company_name",label:"所属公司名",width:"180"},{prop:"customer_id",label:"广告主客户ID",width:"150"},{prop:"customer_name",label:"广告主客户名称",width:"150"},{prop:"top_adid",label:"TOP消耗ADID",width:"150"},{prop:"of_first_industry_name",label:"所属一级行业",width:"120"},{prop:"of_second_industry_name",label:"所属二级行业",width:"120"},{prop:"cur_first_industry_name",label:"当前级结算一级行业",width:"180"},{prop:"cur_second_industry_name",label:"当前结算二级行业",width:"120"},{prop:"pre_first_industry_name",label:"上季度结算一级行业",width:"150"},{prop:"pre_second_industry_name",label:"上季度结算二级行业",width:"150"},{prop:"pre_industry_is_fit",label:"上季度行业是否一致",width:"150"},{prop:"pre_policy_is_fit",label:"上季度政策是否一致",width:"150"},{prop:"cur_industry_is_fit",label:"本季度行业是否一致",width:"150"},{prop:"cur_policy_is_fit",label:"本季度政策是否一致",width:"180"},{prop:"cur_status",label:"本季度申诉状态",width:"200"},{prop:"cur_count",label:"本季度已申诉次数",width:"180"},{prop:"pre_industry_category",label:"上季度结算行业分类",width:"180"},{prop:"pre_policy_category",label:"上季度结算政策分类",width:"200"},{prop:"pre_grant",label:"上季度非赠款竞价业绩",width:"200",sortable:"descending"}],u=[{value:"一致"},{value:"不一致"}],c=[{value:"一致"},{value:"不一致"}],d=[{value:"一致"},{value:"不一致"}],p=[{value:"一致"},{value:"不一致"}],m=[{value:"审批中"},{value:"审批通过"},{value:"审批驳回"}],f=[{id:"advertiser",value:"广告主名称或ID"},{id:"agent",value:"代理商账户或ID"},{id:"company",value:"所属公司名或ID"},{id:"customer",value:"广告主客户名称或ID"}],h=r("0e7d"),b={name:"SettlementReport",components:{CustomizedTable:n["default"]},mixins:[i["a"],h["a"]],created:function(){this.header=s},activated:function(){this.tableLoad()},data:function(){return{date:"",selectType:f,lastQuarterIndustryType:u,lastQuarterPolicyType:c,quarterIndustryType:d,quarterPolicyType:p,quarterComplaintType:m,settlementReportForm:{selectValue:"advertiser",inputValue:"",lastQuarterIndustry:"",lastQuarterPolicy:"",quarterIndustry:"",quarterPolicy:"",quarterComplaint:""}}},methods:{requestTable:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.$http.get("/report/industry/index",{params:(t={order:this.order,sort:this.sort},Object(o["a"])(t,this.settlementReportForm.selectValue,this.settlementReportForm.inputValue.trim()),Object(o["a"])(t,"pre_industry_is_fit",this.settlementReportForm.lastQuarterIndustry),Object(o["a"])(t,"pre_policy_is_fit",this.settlementReportForm.lastQuarterPolicy),Object(o["a"])(t,"cur_industry_is_fit",this.settlementReportForm.quarterIndustry),Object(o["a"])(t,"cur_policy_is_fit",this.settlementReportForm.quarterPolicy),Object(o["a"])(t,"cur_status",this.settlementReportForm.quarterComplaint),Object(o["a"])(t,"is_export",this["export"]),Object(o["a"])(t,"page",e),Object(o["a"])(t,"page_size",this.pageSize),t)})},tableLoad:function(t){var e=this;this.loading=!0,this.requestTable(t).then((function(r){200===r.data.code&&(e.date=r.data.data.date,e.tableData=r.data.data.list,e.total=Number(r.data.data.pagination.total),e.currentPage=t)}))["catch"]((function(t){console.warn(t)}))["finally"]((function(){e.loading=!1}))},reset:function(){this.settlementReportForm.selectValue="advertiser",this.$refs.settlementReportForm.resetFields()}}},v=b,y=(r("ebf4"),r("cba8")),_=Object(y["a"])(v,a,l,!1,null,"34de581d",null);e["default"]=_.exports},"47e8":function(t,e,r){"use strict";var a=r("9c15"),l=r("b5db").trim,o=r("05ce");a({target:"String",proto:!0,forced:o("trim")},{trim:function(){return l(this)}})},"4bbd":function(t,e,r){"use strict";e["a"]={data:function(){return{pageSize:10,total:0,currentPage:1,header:null,tableData:[],loading:!1}},mounted:function(){},methods:{pageChange:function(t,e,r){this.currentPage=r,t.call(e,r)},pageSizeChange:function(t,e,r){this.pageSize=r,this.pageChange(t,e,1)}}}},"5aae":function(t,e,r){"use strict";var a=r("9c15"),l=r("5008"),o=r("1c72"),n=r("059d"),i=r("d7ab"),s=r("ffb3"),u=r("2c48"),c=r("430c"),d=r("130a"),p=r("c91b"),m=r("e9db"),f=r("d006"),h=r("8289"),b=[],v=l(b.sort),y=l(b.push),_=u((function(){b.sort(void 0)})),g=u((function(){b.sort(null)})),w=d("sort"),C=!u((function(){if(f)return f<70;if(!(p&&p>3)){if(m)return!0;if(h)return h<603;var t,e,r,a,l="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(a=0;a<47;a++)b.push({k:e+a,v:r})}for(b.sort((function(t,e){return e.v-t.v})),a=0;a<b.length;a++)e=b[a].k.charAt(0),l.charAt(l.length-1)!==e&&(l+=e);return"DGBEFHACIJK"!==l}})),R=_||!g||!w||!C,F=function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:s(e)>s(r)?1:-1}};a({target:"Array",proto:!0,forced:R},{sort:function(t){void 0!==t&&o(t);var e=n(this);if(C)return void 0===t?v(e):v(e,t);var r,a,l=[],s=i(e);for(a=0;a<s;a++)a in e&&y(l,e[a]);c(l,F(t)),r=l.length,a=0;while(a<r)e[a]=l[a++];while(a<s)delete e[a++];return e}})},"820b":function(t,e,r){},8289:function(t,e,r){var a=r("6532"),l=a.match(/AppleWebKit\/(\d+)\./);t.exports=!!l&&+l[1]},c91b:function(t,e,r){var a=r("6532"),l=a.match(/firefox\/(\d+)/i);t.exports=!!l&&+l[1]},e9db:function(t,e,r){var a=r("6532");t.exports=/MSIE|Trident/.test(a)},ebf4:function(t,e,r){"use strict";r("820b")}}]);